<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5分で予習☆生物基礎 | 第3章 ヒトのからだの調節</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* --- Navigation Bar --- */
        .nav-link.active {
            background-color: #0284C7; /* sky-600 */
            color: white;
        }
        /* --- Tooltip --- */
        .tooltip-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
            text-decoration: underline;
            text-decoration-color: #67e8f9; /* cyan-300 */
            text-decoration-thickness: 2px;
            text-underline-offset: 3px;
        }
        .tooltip-text {
            visibility: hidden;
            width: 220px;
            background-color: #1e293b; /* slate-800 */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -110px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.875rem;
            line-height: 1.5;
            text-decoration: none;
        }
        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1e293b transparent transparent transparent;
        }
        .tooltip-container:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        /* --- Quiz Modal --- */
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-4 sm:px-6 py-4">
            <h1 class="text-2xl md:text-3xl font-black text-slate-800 tracking-tight">5分で予習☆生物基礎</h1>
            <p class="mt-1 text-slate-600 font-bold">第3章 ヒトのからだの調節</p>
        </div>
    </header>

    <!-- Top Navigation -->
    <nav id="top-nav-container" class="bg-white/80 backdrop-blur-sm sticky top-[85px] z-30 shadow-sm">
        <div id="toc" class="container mx-auto px-4 sm:px-6 py-3 flex items-center justify-center flex-wrap gap-2">
            <!-- 目次リンクはJSで動的に生成されます -->
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 sm:px-6 py-8">
        <main id="lessons-container">
            <!-- 各回の授業内容はJSで動的に生成されます -->
        </main>
    </div>

    <!-- Quiz Modal -->
    <div id="quiz-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden" aria-modal="true" role="dialog">
        <div class="modal-content bg-white rounded-2xl shadow-xl w-full max-w-md p-6 sm:p-8 transform scale-95">
            <h3 id="quiz-title" class="text-xl font-bold text-slate-800 mb-4"></h3>
            <p id="quiz-question" class="text-slate-700 mb-6"></p>
            <div id="quiz-options" class="space-y-3"></div>
            <div id="quiz-feedback" class="mt-6 p-4 rounded-lg text-center font-bold hidden"></div>
            <button id="quiz-close-btn" class="mt-6 w-full bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold py-2 px-4 rounded-lg transition-colors">閉じる</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-6 bg-white mt-12 border-t">
        <p class="text-slate-500 text-sm">&copy; 2025 Interactive Biology Learning. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
